<style>
    .modal {
        display: none;
        position: fixed;
        z-index: 9999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.5);
    }

    .modal-content {
        background-color: #fff;
        margin: 10% auto;
        padding: 20px;
        border-radius: 10px;
        width: 90%;
        max-width: 600px;
        position: relative;
    }

    .close {
        color: #aaa;
        position: absolute;
        top: 10px;
        right: 20px;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
    }
</style>

<div id="adModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>

        <div id="adContainer">
            <div data-type="_mgwidget" data-widget-id="1804381"></div>
        </div>
    </div>
</div>
<script>
    (function (w, q) {
        w[q] = w[q] || [];
        w[q].push(["_mgc.load"]);
    })(window, "_mgq");
</script>

<script>
    window.addEventListener('DOMContentLoaded', function () {
        const modal = document.getElementById('adModal');
        const closeBtn = document.querySelector('.close');
        const adContainer = document.getElementById('adContainer');
        const checkAdLoaded = setInterval(() => {
            const hasAd = adContainer.querySelector('iframe, img, div:not([data-widget-id])');
            if (hasAd) {
                clearInterval(checkAdLoaded);
                modal.style.display = 'block';
            }
        }, 500);
        setTimeout(() => clearInterval(checkAdLoaded), 6000);
        closeBtn.addEventListener('click', () => {
            modal.style.display = 'none';
        });

        window.addEventListener('click', function (e) {
            if (e.target === modal) {
                modal.style.display = 'none';
            }
        });
    });
</script>